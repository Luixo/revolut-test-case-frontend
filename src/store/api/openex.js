const usdObj = {
	"AED": 3.673018,
	"AFN": 68.693,
	"ALL": 113.13,
	"AMD": 478.155,
	"ANG": 1.779386,
	"AOA": 165.9195,
	"ARS": 17.1404,
	"AUD": 1.267932,
	"AWG": 1.785,
	"AZN": 1.7,
	"BAM": 1.6716,
	"BBD": 2,
	"BDT": 80.912578,
	"BGN": 1.671822,
	"BHD": 0.376941,
	"BIF": 1737.6,
	"BMD": 1,
	"BND": 1.367709,
	"BOB": 6.910011,
	"BRL": 3.16578,
	"BSD": 1,
	"BTC": 0.000235362999,
	"BTN": 64.126249,
	"BWP": 10.242548,
	"BYN": 1.94386,
	"BZD": 2.014992,
	"CAD": 1.271173,
	"CDF": 1600.102407,
	"CHF": 0.973812,
	"CLF": 0.024028,
	"CLP": 645.1,
	"CNH": 6.698821,
	"CNY": 6.695079,
	"COP": 2968.61,
	"CRC": 577.136761,
	"CUC": 1,
	"CUP": 25.75,
	"CVE": 94.035801,
	"CZK": 22.26965,
	"DJF": 177.876667,
	"DKK": 6.3556,
	"DOP": 47.158073,
	"DZD": 109.974,
	"EGP": 17.767,
	"ERN": 15.291529,
	"ETB": 23.356505,
	"EUR": 0.854576,
	"FJD": 2.026397,
	"FKP": 0.778342,
	"GBP": 0.778342,
	"GEL": 2.39265,
	"GGP": 0.778342,
	"GHS": 4.43,
	"GIP": 0.778342,
	"GMD": 45.47,
	"GNF": 8895,
	"GTQ": 7.267987,
	"GYD": 206.122683,
	"HKD": 7.822155,
	"HNL": 23.377107,
	"HRK": 6.3177,
	"HTG": 64.425986,
	"HUF": 260.19099,
	"IDR": 13372.5,
	"ILS": 3.62475,
	"IMP": 0.778342,
	"INR": 64.1701,
	"IQD": 1166.6,
	"IRR": 32914.2911,
	"ISK": 109.489947,
	"JEP": 0.778342,
	"JMD": 127.7055,
	"JOD": 0.708997,
	"JPY": 110.7404,
	"KES": 103.595,
	"KGS": 68.679128,
	"KHR": 4119.05,
	"KMF": 418.774997,
	"KPW": 899.91,
	"KRW": 1138.45,
	"KWD": 0.30225,
	"KYD": 0.833059,
	"KZT": 332.995,
	"LAK": 8283.65,
	"LBP": 1506,
	"LKR": 153.200075,
	"LRD": 114.388562,
	"LSL": 13.23979,
	"LYD": 1.373191,
	"MAD": 9.4737,
	"MDL": 17.820636,
	"MGA": 2951,
	"MKD": 52.663719,
	"MMK": 1363.7,
	"MNT": 2439,
	"MOP": 8.054765,
	"MRO": 364.645827,
	"MUR": 33.349,
	"MVR": 15.475,
	"MWK": 726.18,
	"MXN": 17.73855,
	"MYR": 4.297472,
	"MZN": 61.29,
	"NAD": 13.225,
	"NGN": 362.337867,
	"NIO": 30.033065,
	"NOK": 7.960945,
	"NPR": 102.592627,
	"NZD": 1.375497,
	"OMR": 0.384981,
	"PAB": 1,
	"PEN": 3.243,
	"PGK": 3.17425,
	"PHP": 51.335,
	"PKR": 105.338422,
	"PLN": 3.64257,
	"PYG": 5570.1,
	"QAR": 3.6408,
	"RON": 3.919373,
	"RSD": 101.97,
	"RUB": 59.5081,
	"RWF": 844.017094,
	"SAR": 3.7502,
	"SBD": 7.748625,
	"SCR": 13.593908,
	"SDG": 6.6749,
	"SEK": 8.120765,
	"SGD": 1.367244,
	"SHP": 0.778342,
	"SLL": 7500.75,
	"SOS": 578.26,
	"SRD": 7.438,
	"SSP": 125.35065,
	"STD": 20941.706401,
	"SVC": 8.746054,
	"SYP": 514.99666,
	"SZL": 13.240801,
	"THB": 33.283,
	"TJS": 8.811099,
	"TMT": 3.45005,
	"TND": 2.415297,
	"TOP": 2.189781,
	"TRY": 3.526844,
	"TTD": 6.740755,
	"TWD": 30.323,
	"TZS": 2239,
	"UAH": 25.561605,
	"UGX": 3595.75,
	"USD": 1,
	"UYU": 28.555619,
	"UZS": 4153.1,
	"VEF": 10.23017,
	"VND": 22747.4,
	"VUV": 104.954999,
	"WST": 2.4573,
	"XAF": 560.565338,
	"XAG": 0.05909991,
	"XAU": 0.00078479,
	"XCD": 2.70255,
	"XDR": 0.711843,
	"XOF": 560.565338,
	"XPD": 0.00109713,
	"XPF": 101.978085,
	"XPT": 0.00102882,
	"YER": 250.047499,
	"ZAR": 13.223069,
	"ZMW": 9.00675,
	"ZWL": 322.387247
};
const eurObj = {
	"AED": 3.673018,
	"AFN": 68.693,
	"ALL": 113.13,
	"AMD": 478.155,
	"ANG": 1.779386,
	"AOA": 165.9195,
	"ARS": 17.1404,
	"AUD": 1.267932,
	"AWG": 1.785,
	"AZN": 1.7,
	"BAM": 1.6716,
	"BBD": 2,
	"BDT": 80.912578,
	"BGN": 1.671822,
	"BHD": 0.376941,
	"BIF": 1737.6,
	"BMD": 1,
	"BND": 1.367709,
	"BOB": 6.910011,
	"BRL": 3.16578,
	"BSD": 1,
	"BTC": 0.000235362999,
	"BTN": 64.126249,
	"BWP": 10.242548,
	"BYN": 1.94386,
	"BZD": 2.014992,
	"CAD": 1.271173,
	"CDF": 1600.102407,
	"CHF": 0.973812,
	"CLF": 0.024028,
	"CLP": 645.1,
	"CNH": 6.698821,
	"CNY": 6.695079,
	"COP": 2968.61,
	"CRC": 577.136761,
	"CUC": 1,
	"CUP": 25.75,
	"CVE": 94.035801,
	"CZK": 22.26965,
	"DJF": 177.876667,
	"DKK": 6.3556,
	"DOP": 47.158073,
	"DZD": 109.974,
	"EGP": 17.767,
	"ERN": 15.291529,
	"ETB": 23.356505,
	"EUR": 1,
	"FJD": 2.026397,
	"FKP": 0.778342,
	"GBP": 0.909893443,
	"GEL": 2.39265,
	"GGP": 0.778342,
	"GHS": 4.43,
	"GIP": 0.778342,
	"GMD": 45.47,
	"GNF": 8895,
	"GTQ": 7.267987,
	"GYD": 206.122683,
	"HKD": 7.822155,
	"HNL": 23.377107,
	"HRK": 6.3177,
	"HTG": 64.425986,
	"HUF": 260.19099,
	"IDR": 13372.5,
	"ILS": 3.62475,
	"IMP": 0.778342,
	"INR": 64.1701,
	"IQD": 1166.6,
	"IRR": 32914.2911,
	"ISK": 109.489947,
	"JEP": 0.778342,
	"JMD": 127.7055,
	"JOD": 0.708997,
	"JPY": 110.7404,
	"KES": 103.595,
	"KGS": 68.679128,
	"KHR": 4119.05,
	"KMF": 418.774997,
	"KPW": 899.91,
	"KRW": 1138.45,
	"KWD": 0.30225,
	"KYD": 0.833059,
	"KZT": 332.995,
	"LAK": 8283.65,
	"LBP": 1506,
	"LKR": 153.200075,
	"LRD": 114.388562,
	"LSL": 13.23979,
	"LYD": 1.373191,
	"MAD": 9.4737,
	"MDL": 17.820636,
	"MGA": 2951,
	"MKD": 52.663719,
	"MMK": 1363.7,
	"MNT": 2439,
	"MOP": 8.054765,
	"MRO": 364.645827,
	"MUR": 33.349,
	"MVR": 15.475,
	"MWK": 726.18,
	"MXN": 17.73855,
	"MYR": 4.297472,
	"MZN": 61.29,
	"NAD": 13.225,
	"NGN": 362.337867,
	"NIO": 30.033065,
	"NOK": 7.960945,
	"NPR": 102.592627,
	"NZD": 1.375497,
	"OMR": 0.384981,
	"PAB": 1,
	"PEN": 3.243,
	"PGK": 3.17425,
	"PHP": 51.335,
	"PKR": 105.338422,
	"PLN": 3.64257,
	"PYG": 5570.1,
	"QAR": 3.6408,
	"RON": 3.919373,
	"RSD": 101.97,
	"RUB": 59.5081,
	"RWF": 844.017094,
	"SAR": 3.7502,
	"SBD": 7.748625,
	"SCR": 13.593908,
	"SDG": 6.6749,
	"SEK": 8.120765,
	"SGD": 1.367244,
	"SHP": 0.778342,
	"SLL": 7500.75,
	"SOS": 578.26,
	"SRD": 7.438,
	"SSP": 125.35065,
	"STD": 20941.706401,
	"SVC": 8.746054,
	"SYP": 514.99666,
	"SZL": 13.240801,
	"THB": 33.283,
	"TJS": 8.811099,
	"TMT": 3.45005,
	"TND": 2.415297,
	"TOP": 2.189781,
	"TRY": 3.526844,
	"TTD": 6.740755,
	"TWD": 30.323,
	"TZS": 2239,
	"UAH": 25.561605,
	"UGX": 3595.75,
	"USD": 1.1701709,
	"UYU": 28.555619,
	"UZS": 4153.1,
	"VEF": 10.23017,
	"VND": 22747.4,
	"VUV": 104.954999,
	"WST": 2.4573,
	"XAF": 560.565338,
	"XAG": 0.05909991,
	"XAU": 0.00078479,
	"XCD": 2.70255,
	"XDR": 0.711843,
	"XOF": 560.565338,
	"XPD": 0.00109713,
	"XPF": 101.978085,
	"XPT": 0.00102882,
	"YER": 250.047499,
	"ZAR": 13.223069,
	"ZMW": 9.00675,
	"ZWL": 322.387247
};
const gbpObj = {
	"AED": 3.673018,
	"AFN": 68.693,
	"ALL": 113.13,
	"AMD": 478.155,
	"ANG": 1.779386,
	"AOA": 165.9195,
	"ARS": 17.1404,
	"AUD": 1.267932,
	"AWG": 1.785,
	"AZN": 1.7,
	"BAM": 1.6716,
	"BBD": 2,
	"BDT": 80.912578,
	"BGN": 1.671822,
	"BHD": 0.376941,
	"BIF": 1737.6,
	"BMD": 1,
	"BND": 1.367709,
	"BOB": 6.910011,
	"BRL": 3.16578,
	"BSD": 1,
	"BTC": 0.000235362999,
	"BTN": 64.126249,
	"BWP": 10.242548,
	"BYN": 1.94386,
	"BZD": 2.014992,
	"CAD": 1.271173,
	"CDF": 1600.102407,
	"CHF": 0.973812,
	"CLF": 0.024028,
	"CLP": 645.1,
	"CNH": 6.698821,
	"CNY": 6.695079,
	"COP": 2968.61,
	"CRC": 577.136761,
	"CUC": 1,
	"CUP": 25.75,
	"CVE": 94.035801,
	"CZK": 22.26965,
	"DJF": 177.876667,
	"DKK": 6.3556,
	"DOP": 47.158073,
	"DZD": 109.974,
	"EGP": 17.767,
	"ERN": 15.291529,
	"ETB": 23.356505,
	"EUR": 1.09902979,
	"FJD": 2.026397,
	"FKP": 0.778342,
	"GBP": 1,
	"GEL": 2.39265,
	"GGP": 0.778342,
	"GHS": 4.43,
	"GIP": 0.778342,
	"GMD": 45.47,
	"GNF": 8895,
	"GTQ": 7.267987,
	"GYD": 206.122683,
	"HKD": 7.822155,
	"HNL": 23.377107,
	"HRK": 6.3177,
	"HTG": 64.425986,
	"HUF": 260.19099,
	"IDR": 13372.5,
	"ILS": 3.62475,
	"IMP": 0.778342,
	"INR": 64.1701,
	"IQD": 1166.6,
	"IRR": 32914.2911,
	"ISK": 109.489947,
	"JEP": 0.778342,
	"JMD": 127.7055,
	"JOD": 0.708997,
	"JPY": 110.7404,
	"KES": 103.595,
	"KGS": 68.679128,
	"KHR": 4119.05,
	"KMF": 418.774997,
	"KPW": 899.91,
	"KRW": 1138.45,
	"KWD": 0.30225,
	"KYD": 0.833059,
	"KZT": 332.995,
	"LAK": 8283.65,
	"LBP": 1506,
	"LKR": 153.200075,
	"LRD": 114.388562,
	"LSL": 13.23979,
	"LYD": 1.373191,
	"MAD": 9.4737,
	"MDL": 17.820636,
	"MGA": 2951,
	"MKD": 52.663719,
	"MMK": 1363.7,
	"MNT": 2439,
	"MOP": 8.054765,
	"MRO": 364.645827,
	"MUR": 33.349,
	"MVR": 15.475,
	"MWK": 726.18,
	"MXN": 17.73855,
	"MYR": 4.297472,
	"MZN": 61.29,
	"NAD": 13.225,
	"NGN": 362.337867,
	"NIO": 30.033065,
	"NOK": 7.960945,
	"NPR": 102.592627,
	"NZD": 1.375497,
	"OMR": 0.384981,
	"PAB": 1,
	"PEN": 3.243,
	"PGK": 3.17425,
	"PHP": 51.335,
	"PKR": 105.338422,
	"PLN": 3.64257,
	"PYG": 5570.1,
	"QAR": 3.6408,
	"RON": 3.919373,
	"RSD": 101.97,
	"RUB": 59.5081,
	"RWF": 844.017094,
	"SAR": 3.7502,
	"SBD": 7.748625,
	"SCR": 13.593908,
	"SDG": 6.6749,
	"SEK": 8.120765,
	"SGD": 1.367244,
	"SHP": 0.778342,
	"SLL": 7500.75,
	"SOS": 578.26,
	"SRD": 7.438,
	"SSP": 125.35065,
	"STD": 20941.706401,
	"SVC": 8.746054,
	"SYP": 514.99666,
	"SZL": 13.240801,
	"THB": 33.283,
	"TJS": 8.811099,
	"TMT": 3.45005,
	"TND": 2.415297,
	"TOP": 2.189781,
	"TRY": 3.526844,
	"TTD": 6.740755,
	"TWD": 30.323,
	"TZS": 2239,
	"UAH": 25.561605,
	"UGX": 3595.75,
	"USD": 1.28478226,
	"UYU": 28.555619,
	"UZS": 4153.1,
	"VEF": 10.23017,
	"VND": 22747.4,
	"VUV": 104.954999,
	"WST": 2.4573,
	"XAF": 560.565338,
	"XAG": 0.05909991,
	"XAU": 0.00078479,
	"XCD": 2.70255,
	"XDR": 0.711843,
	"XOF": 560.565338,
	"XPD": 0.00109713,
	"XPF": 101.978085,
	"XPT": 0.00102882,
	"YER": 250.047499,
	"ZAR": 13.223069,
	"ZMW": 9.00675,
	"ZWL": 322.387247
};

const fetchRatesMock = async code => {
	return Promise.resolve()
		.then(() => {
			if (code === 'USD')
				return Object.keys(usdObj).reduce((memo, key) => {
					memo[key] = usdObj[key] + Math.random()*0.1*usdObj[key];
					return memo;
				}, {});
			if (code === 'EUR')
				return Object.keys(eurObj).reduce((memo, key) => {
					memo[key] = eurObj[key] + Math.random()*0.1*eurObj[key];
					return memo;
				}, {});
			if (code === 'GBP')
				return Object.keys(gbpObj).reduce((memo, key) => {
					memo[key] = gbpObj[key] + Math.random()*0.1*gbpObj[key];
					return memo;
				}, {});
		})
};

const fetchCurrenciesMock = async () => {
	return Promise.resolve()
		.then(() => {
			return {
				"AED": "United Arab Emirates Dirham",
				"AFN": "Afghan Afghani",
				"ALL": "Albanian Lek",
				"AMD": "Armenian Dram",
				"ANG": "Netherlands Antillean Guilder",
				"AOA": "Angolan Kwanza",
				"ARS": "Argentine Peso",
				"AUD": "Australian Dollar",
				"AWG": "Aruban Florin",
				"AZN": "Azerbaijani Manat",
				"BAM": "Bosnia-Herzegovina Convertible Mark",
				"BBD": "Barbadian Dollar",
				"BDT": "Bangladeshi Taka",
				"BGN": "Bulgarian Lev",
				"BHD": "Bahraini Dinar",
				"BIF": "Burundian Franc",
				"BMD": "Bermudan Dollar",
				"BND": "Brunei Dollar",
				"BOB": "Bolivian Boliviano",
				"BRL": "Brazilian Real",
				"BSD": "Bahamian Dollar",
				"BTC": "Bitcoin",
				"BTN": "Bhutanese Ngultrum",
				"BWP": "Botswanan Pula",
				"BYN": "Belarusian Ruble",
				"BZD": "Belize Dollar",
				"CAD": "Canadian Dollar",
				"CDF": "Congolese Franc",
				"CHF": "Swiss Franc",
				"CLF": "Chilean Unit of Account (UF)",
				"CLP": "Chilean Peso",
				"CNH": "Chinese Yuan (Offshore)",
				"CNY": "Chinese Yuan",
				"COP": "Colombian Peso",
				"CRC": "Costa Rican Colón",
				"CUC": "Cuban Convertible Peso",
				"CUP": "Cuban Peso",
				"CVE": "Cape Verdean Escudo",
				"CZK": "Czech Republic Koruna",
				"DJF": "Djiboutian Franc",
				"DKK": "Danish Krone",
				"DOP": "Dominican Peso",
				"DZD": "Algerian Dinar",
				"EGP": "Egyptian Pound",
				"ERN": "Eritrean Nakfa",
				"ETB": "Ethiopian Birr",
				"EUR": "Euro",
				"FJD": "Fijian Dollar",
				"FKP": "Falkland Islands Pound",
				"GBP": "British Pound Sterling",
				"GEL": "Georgian Lari",
				"GGP": "Guernsey Pound",
				"GHS": "Ghanaian Cedi",
				"GIP": "Gibraltar Pound",
				"GMD": "Gambian Dalasi",
				"GNF": "Guinean Franc",
				"GTQ": "Guatemalan Quetzal",
				"GYD": "Guyanaese Dollar",
				"HKD": "Hong Kong Dollar",
				"HNL": "Honduran Lempira",
				"HRK": "Croatian Kuna",
				"HTG": "Haitian Gourde",
				"HUF": "Hungarian Forint",
				"IDR": "Indonesian Rupiah",
				"ILS": "Israeli New Sheqel",
				"IMP": "Manx pound",
				"INR": "Indian Rupee",
				"IQD": "Iraqi Dinar",
				"IRR": "Iranian Rial",
				"ISK": "Icelandic Króna",
				"JEP": "Jersey Pound",
				"JMD": "Jamaican Dollar",
				"JOD": "Jordanian Dinar",
				"JPY": "Japanese Yen",
				"KES": "Kenyan Shilling",
				"KGS": "Kyrgystani Som",
				"KHR": "Cambodian Riel",
				"KMF": "Comorian Franc",
				"KPW": "North Korean Won",
				"KRW": "South Korean Won",
				"KWD": "Kuwaiti Dinar",
				"KYD": "Cayman Islands Dollar",
				"KZT": "Kazakhstani Tenge",
				"LAK": "Laotian Kip",
				"LBP": "Lebanese Pound",
				"LKR": "Sri Lankan Rupee",
				"LRD": "Liberian Dollar",
				"LSL": "Lesotho Loti",
				"LYD": "Libyan Dinar",
				"MAD": "Moroccan Dirham",
				"MDL": "Moldovan Leu",
				"MGA": "Malagasy Ariary",
				"MKD": "Macedonian Denar",
				"MMK": "Myanma Kyat",
				"MNT": "Mongolian Tugrik",
				"MOP": "Macanese Pataca",
				"MRO": "Mauritanian Ouguiya",
				"MUR": "Mauritian Rupee",
				"MVR": "Maldivian Rufiyaa",
				"MWK": "Malawian Kwacha",
				"MXN": "Mexican Peso",
				"MYR": "Malaysian Ringgit",
				"MZN": "Mozambican Metical",
				"NAD": "Namibian Dollar",
				"NGN": "Nigerian Naira",
				"NIO": "Nicaraguan Córdoba",
				"NOK": "Norwegian Krone",
				"NPR": "Nepalese Rupee",
				"NZD": "New Zealand Dollar",
				"OMR": "Omani Rial",
				"PAB": "Panamanian Balboa",
				"PEN": "Peruvian Nuevo Sol",
				"PGK": "Papua New Guinean Kina",
				"PHP": "Philippine Peso",
				"PKR": "Pakistani Rupee",
				"PLN": "Polish Zloty",
				"PYG": "Paraguayan Guarani",
				"QAR": "Qatari Rial",
				"RON": "Romanian Leu",
				"RSD": "Serbian Dinar",
				"RUB": "Russian Ruble",
				"RWF": "Rwandan Franc",
				"SAR": "Saudi Riyal",
				"SBD": "Solomon Islands Dollar",
				"SCR": "Seychellois Rupee",
				"SDG": "Sudanese Pound",
				"SEK": "Swedish Krona",
				"SGD": "Singapore Dollar",
				"SHP": "Saint Helena Pound",
				"SLL": "Sierra Leonean Leone",
				"SOS": "Somali Shilling",
				"SRD": "Surinamese Dollar",
				"SSP": "South Sudanese Pound",
				"STD": "São Tomé and Príncipe Dobra",
				"SVC": "Salvadoran Colón",
				"SYP": "Syrian Pound",
				"SZL": "Swazi Lilangeni",
				"THB": "Thai Baht",
				"TJS": "Tajikistani Somoni",
				"TMT": "Turkmenistani Manat",
				"TND": "Tunisian Dinar",
				"TOP": "Tongan Pa'anga",
				"TRY": "Turkish Lira",
				"TTD": "Trinidad and Tobago Dollar",
				"TWD": "New Taiwan Dollar",
				"TZS": "Tanzanian Shilling",
				"UAH": "Ukrainian Hryvnia",
				"UGX": "Ugandan Shilling",
				"USD": "United States Dollar",
				"UYU": "Uruguayan Peso",
				"UZS": "Uzbekistan Som",
				"VEF": "Venezuelan Bolívar Fuerte",
				"VND": "Vietnamese Dong",
				"VUV": "Vanuatu Vatu",
				"WST": "Samoan Tala",
				"XAF": "CFA Franc BEAC",
				"XAG": "Silver Ounce",
				"XAU": "Gold Ounce",
				"XCD": "East Caribbean Dollar",
				"XDR": "Special Drawing Rights",
				"XOF": "CFA Franc BCEAO",
				"XPD": "Palladium Ounce",
				"XPF": "CFP Franc",
				"XPT": "Platinum Ounce",
				"YER": "Yemeni Rial",
				"ZAR": "South African Rand",
				"ZMW": "Zambian Kwacha",
				"ZWL": "Zimbabwean Dollar"
			}
		})
};

const fetchRatesReal = async (code, apiKey) =>
	fetch(`https://openexchangerates.org/api/latest.json?app_id=${apiKey}&base=${code}`)
		.then(response => {
			if (!response.ok)
				return Promise.reject(`General connection error`);
			return response.json();
		})
		.then(({ rates }) => rates);

const fetchCurrenciesReal = async (apiKey) =>
	fetch(`https://openexchangerates.org/api/currencies.json?app_id=${apiKey}`)
		.then(response => {
			if (!response.ok)
				return Promise.reject(`General connection error`);
			return response.json();
		});

let fetchCurrencies, fetchRates;
if (__DEV__) {
	fetchRates = fetchRatesMock;
	fetchCurrencies = fetchCurrenciesMock;
} else {
	fetchRates = fetchRatesReal;
	fetchCurrencies = fetchCurrenciesReal;
}

export { fetchRates, fetchCurrencies };